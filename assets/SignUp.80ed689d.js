import{_ as e}from"./BillingInput.acf1d7fc.js";import{_ as s}from"./InputFile.f39bc003.js";import{_ as a}from"./TogglePassword.c87b74bb.js";import{u as l}from"./useUserValidation.f81ffa36.js";import{r as i,u as r,j as n,o,d as t,e as d,k as u,f as m,t as p,F as _,h as g}from"./vendor.c79a5476.js";import"./index.6ae74e63.js";const c={components:{BillingInput:e,InputFile:s,TogglePassword:a},setup(){const e=i({username:"",first_name:"",last_name:"",password1:"",password2:"",email:"",address:"",phone:"",img:""}),s=i({username:"",first_name:"",last_name:"",password1:"",password2:"",old_password:"",email:"",address:"",phone:"",img:""}),{usernameValidation:a,emailValidation:n,passwordValidation:o,confirmValidation:t,nameValidation:d,phoneValidation:u,imageValidation:m,show:p,passType:_}=l(e,s);let g=i([]);const c=r();return{signUp:async()=>{g.value=[];let a=!1;Object.entries(s.value).forEach((([s,l])=>{""!==l?g.value.push(l):""!==e.value[s]||a||"phone"==s||"img"==s||(g.value.push("Please enter something to required fields!"),a=!0)})),0===g.value.length&&await c.dispatch("signup/createAccount",e.value)},signUpErrors:g,user:e,usernameValidation:a,errors:s,emailValidation:n,passwordValidation:o,confirmValidation:t,nameValidation:d,phoneValidation:u,imageValidation:m,show:p,passType:_}}},h={class:"signup"},V={class:"signup__row"},f=d("div",{class:"user-one-column__main signup__header"},[d("h2",{class:"title registration__title signup__title"}," Welcome to our shop! "),d("p",{class:"title registration__subtitle singup__subtitle"}," Be active and productive with us! Buy new things with good price. Leave comments and replies to our products. Read our new posts about products and more. Share us with your freinds! ")],-1),w={class:"user-input signup__main"},v={class:"signup__item user-input__item"},b={key:0,class:"label help-text"},y={class:"label error"},U={class:"signup__item user-input__item"},C={key:0,class:"label help-text"},T={class:"label error"},k={class:"signup__item user-input__item"},x={class:"toggle-password"},I={key:0,class:"label help-text"},j={class:"label error"},q={class:"signup__item user-input__item"},P={class:"toggle-password"},O={key:0,class:"label help-text"},B={class:"label error"},E={class:"signup__item user-input__item"},F={key:0,class:"label help-text"},L={class:"label error"},A={class:"signup__item user-input__item"},S={key:0,class:"label help-text"},z={class:"label error"},M={class:"signup__item user-input__item"},R={class:"label error"},W={class:"signup__item user-input__item"},D={key:0,class:"label help-text"},G={class:"signup__item user-input__item"},H=d("label",{for:"image",class:"label text-label"},"Profile Image",-1),J={class:"label error signup__mt"},K={class:"user-column__btns signup__btns"};c.render=function(e,s,a,l,i,r){const c=n("billing-input"),N=n("toggle-password"),Q=n("input-file");return o(),t("div",h,[d("div",V,[f,d("div",w,[d("div",v,[u(c,{title:"Username",name:"username",modelValue:l.user.username,"onUpdate:modelValue":s[0]||(s[0]=e=>l.user.username=e),modelModifiers:{lazy:!0},onChange:l.usernameValidation},null,8,["modelValue","onChange"]),""===l.errors.username&&""===l.user.username?(o(),t("div",b," This field is required! ")):m("",!0),d("div",y,p(l.errors.username),1)]),d("div",U,[u(c,{title:"Email",name:"email",modelValue:l.user.email,"onUpdate:modelValue":s[1]||(s[1]=e=>l.user.email=e),typeOfInput:"email",onChange:l.emailValidation},null,8,["modelValue","onChange"]),""===l.errors.email&&""===l.user.email?(o(),t("div",C," This field is required! ")):m("",!0),d("div",T,p(l.errors.email),1)]),d("div",k,[d("div",x,[u(c,{title:"Password",name:"password1",typeOfInput:l.passType.password1,modelValue:l.user.password1,"onUpdate:modelValue":s[2]||(s[2]=e=>l.user.password1=e),onChange:l.passwordValidation},null,8,["typeOfInput","modelValue","onChange"]),u(N,{modelValue:l.show.password1,"onUpdate:modelValue":s[3]||(s[3]=e=>l.show.password1=e)},null,8,["modelValue"])]),""===l.errors.password1&&""===l.user.password1?(o(),t("div",I," This field is required! ")):m("",!0),d("div",j,p(l.errors.password1),1)]),d("div",q,[d("div",P,[u(c,{title:"Confirm Password",name:"password2",modelValue:l.user.password2,"onUpdate:modelValue":s[4]||(s[4]=e=>l.user.password2=e),typeOfInput:l.passType.password2,onChange:l.confirmValidation},null,8,["modelValue","typeOfInput","onChange"]),u(N,{modelValue:l.show.password2,"onUpdate:modelValue":s[5]||(s[5]=e=>l.show.password2=e)},null,8,["modelValue"])]),""===l.errors.password2&&""===l.user.password2?(o(),t("div",O," This field is required! ")):m("",!0),d("div",B,p(l.errors.password2),1)]),d("div",E,[u(c,{title:"First name",name:"first_name",modelValue:l.user.first_name,"onUpdate:modelValue":s[6]||(s[6]=e=>l.user.first_name=e),onChange:s[7]||(s[7]=e=>l.nameValidation(e,"first_name"))},null,8,["modelValue"]),""===l.errors.first_name&&""===l.user.first_name?(o(),t("div",F," This field is required! ")):m("",!0),d("div",L,p(l.errors.first_name),1)]),d("div",A,[u(c,{title:"Last name",name:"last_name",modelValue:l.user.last_name,"onUpdate:modelValue":s[8]||(s[8]=e=>l.user.last_name=e),onChange:s[9]||(s[9]=e=>l.nameValidation(e,"last_name"))},null,8,["modelValue"]),""===l.errors.last_name&&""===l.user.last_name?(o(),t("div",S," This field is required! ")):m("",!0),d("div",z,p(l.errors.last_name),1)]),d("div",M,[u(c,{title:"Phone number",name:"phone",modelValue:l.user.phone,"onUpdate:modelValue":s[10]||(s[10]=e=>l.user.phone=e),onChange:l.phoneValidation},null,8,["modelValue","onChange"]),d("div",R,p(l.errors.phone),1)]),d("div",W,[u(c,{title:"Address",name:"address",modelValue:l.user.address,"onUpdate:modelValue":s[11]||(s[11]=e=>l.user.address=e),onChange:s[12]||(s[12]=e=>e.path[1].classList.add("active-input"))},null,8,["modelValue"]),""===l.errors.address&&""===l.user.address?(o(),t("div",D," This field is required! ")):m("",!0)]),d("div",G,[H,u(Q,{class:"profile-change__input_i user-input__item_i",modelValue:l.user.img,"onUpdate:modelValue":s[13]||(s[13]=e=>l.user.img=e),name:"image",onChange:l.imageValidation},null,8,["modelValue","onChange"]),d("div",J,p(l.errors.img),1)])]),d("div",K,[d("button",{class:"green-btn",onClick:s[14]||(s[14]=(...e)=>l.signUp&&l.signUp(...e))},"Sign Up")]),(o(!0),t(_,null,g(l.signUpErrors,(e=>(o(),t("div",{class:"error",key:e},p(e),1)))),128))])])};export{c as default};
