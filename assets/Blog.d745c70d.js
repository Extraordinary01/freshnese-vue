import{_ as s}from"./BreadCrumbs.abf67da9.js";import{f as a}from"./index.4fb891a4.js";import{j as l,o as e,d as t,e as o,F as r,h as i,t as c,k as g,l as n,i as d,u as _,a as u,c as m,r as b,w as p,p as v,f}from"./vendor.c79a5476.js";import{_ as h}from"./LoadOther.a178179a.js";const y={props:{post:{type:Object,default:{}}}},k={class:"card blog-card"},x={class:"blog-card__img"},C=["src"],j={class:"blog-card__main blog-card__tags"},P={class:"blog-card__main blog-card__title"},B={class:"title"},O=o("div",{class:"flexible"},null,-1),$={class:"blog-card__main blog-card__info"},w={class:"blog-card__author"},A={class:"blog-card__date"};y.render=function(s,a,_,u,m,b){const p=l("router-link");return e(),t("div",k,[o("div",x,[o("img",{src:_.post.img,alt:"post image"},null,8,C)]),o("div",j,[(e(!0),t(r,null,i(_.post.tags,(s=>(e(),t("span",{class:"tag",key:s},[g(p,{to:{name:"tags",params:{category_url:"vegetables"}}},{default:n((()=>[d(c(s.name),1)])),_:2},1024)])))),128))]),o("div",P,[o("h5",B,c(_.post.title),1)]),O,o("div",$,[o("span",w,c(_.post.author.username),1),o("span",A,c(_.post.created_at),1)])])};const L={components:{BreadCrumbs:s,BlogBigCard:a,BlogCard:y,LoadOther:h},setup(){const s=_(),a=u(),l=m((()=>s.state.blog.posts)),e=b([]),t=b([]);s.dispatch("blog/getArchives");const o=m((()=>s.state.blog.archives)),r=()=>{if("blog"!==a.name&&"blog-date"!==a.name){const t=m((()=>s.getters["estore/getCurrentCategory"]));i.value=t.value({name:a.name,url:a.params.category_url}),document.title=i.value.name,e.value=l.value.filter((s=>"blog-tag"===a.name?0!==s.tags.filter((s=>s.url===a.params.category_url)).length:s.category_url===a.params.category_url))}else"blog-date"==a.name&&(document.title=a.params.month+" "+a.params.year),e.value=l.value;t.value=e.value.slice(2)},i=b("");return r(),p((()=>a.path),(()=>{r()})),{posts:e,category:i,cardPosts:t,updatePosts:s=>{e.value=s,t.value=e.value.slice(2)},archives:o}}},U={class:"container blog-flex blog-flex__big"},F={class:"blog-flex blog-flex__main"},N={class:"blog-side blog-flex__item blog-flex__column"},q={class:"blog-side__item archives"},z=o("h6",{class:"title blog-side__title"},"Archives",-1),D={class:"blog-side__list archives__list"},E={class:"blog-side__item blog-categories"},G=o("h6",{class:"title blog-side__title"},"Categories",-1),H={class:"blog-side__list blog-categories__list"},I={class:"blog-main blog-flex__item blog-grid"},J={class:"grid__row"};L.render=function(s,a,_,u,m,b){const p=l("bread-crumbs"),h=l("blog-big-card"),y=l("router-link"),k=l("blog-card"),x=l("load-other");return e(),t(r,null,["blog"!=s.$route.name?(e(),v(p,{key:0})):f("",!0),o("div",U,[g(h,{class:"blog-flex__item",post:u.posts[0]},null,8,["post"]),u.posts.length>1?(e(),v(h,{key:0,class:"blog-flex__item",post:u.posts[1]},null,8,["post"])):f("",!0)]),o("div",F,[o("div",N,[o("div",q,[z,o("ul",D,[(e(!0),t(r,null,i(u.archives,(s=>(e(),t("li",{class:"blog-side__link archives__item",key:s},[g(y,{to:{name:"blog-date",params:{month:s.month.split(" ")[0],year:s.month.split(" ")[1]}}},{default:n((()=>[d(c(s.month),1)])),_:2},1032,["to"])])))),128))])]),o("div",E,[G,o("ul",H,[(e(!0),t(r,null,i(s.$store.state.estore.categories,(s=>(e(),t("li",{class:"blog-side__link blog-categories__link",key:s.id},[g(y,{to:{name:"blog-category",params:{category_url:s.url}}},{default:n((()=>[d(c(s.name),1)])),_:2},1032,["to"])])))),128))])])]),o("div",I,[o("div",J,[(e(!0),t(r,null,i(u.cardPosts,(s=>(e(),v(k,{key:s.id,post:s},null,8,["post"])))),128))]),null!=s.$store.state.blog.postsNext?(e(),v(x,{key:0,onUpdatePosts:u.updatePosts},null,8,["onUpdatePosts"])):f("",!0)])])],64)};export{L as default};
