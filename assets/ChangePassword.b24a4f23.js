import{_ as s}from"./BillingInput.acf1d7fc.js";import{_ as a}from"./TogglePassword.c87b74bb.js";import{u as o}from"./useUserValidation.4cd0e522.js";import{r as e,u as r,b as l,c as n,j as d,o as t,d as p,e as u,k as i,t as c}from"./vendor.c79a5476.js";import{_ as w}from"./lock.277c669c.js";import"./index.8288acf9.js";const m={components:{BillingInput:s,TogglePassword:a},setup(){const s=e({password1:"",password2:"",old_password:""}),a=e({password1:"",password2:"",old_password:""}),{passwordValidation:d,confirmValidation:t,passType:p,show:u}=o(s,a),i=r(),c=l();return{user:s,passType:p,show:u,passwordValidation:d,confirmValidation:t,errors:a,change:async()=>{let o=!1;if(Object.entries(a.value).forEach((([s,a])=>{""===a||(o=!0)})),!o){await i.dispatch("password/changePassword",s.value);n((()=>i.state.password.changeError)).value||(i.commit("addMessage",{message:"Your password was successfully changed!",bgColor:"#6a983c",textColor:"#fff"}),c.push("/"))}}}}},_={class:"user-one-column change-password"},g={class:"user-one-column__item change-password__item"},h=u("div",{class:"user-one-column__main change-password__main"},[u("h2",{class:"title registration__title change-password__title"}," Change your password ")],-1),f={class:"user-one-column__main change-password__main"},V={class:"user-one-column__input change-password__input"},v={class:"toggle-password"},y=u("img",{src:w,alt:""},null,-1),b={class:"label error"},C={class:"user-one-column__input change-password__input"},j={class:"toggle-password"},I=u("img",{src:w,alt:""},null,-1),O={class:"label error"},T={class:"user-one-column__input change-password__input"},U={class:"toggle-password"},k=u("img",{src:w,alt:""},null,-1),x={class:"label error"},B={class:"\r\n\t\t\t\t\t\tuser-one-column__input user-one-column__btn\r\n\t\t\t\t\t\tchange-password__input change-password__btn\r\n\t\t\t\t\t"};m.render=function(s,a,o,e,r,l){const n=d("billing-input"),w=d("toggle-password");return t(),p("div",_,[u("div",g,[h,u("div",f,[u("div",V,[u("div",v,[y,i(n,{title:"New password",name:"new_password1",typeOfInput:e.passType.password1,modelValue:e.user.password1,"onUpdate:modelValue":a[0]||(a[0]=s=>e.user.password1=s),onChange:e.passwordValidation},null,8,["typeOfInput","modelValue","onChange"]),i(w,{modelValue:e.show.password1,"onUpdate:modelValue":a[1]||(a[1]=s=>e.show.password1=s)},null,8,["modelValue"])]),u("div",b,c(e.errors.password1),1)]),u("div",C,[u("div",j,[I,i(n,{title:"Confirm new password",name:"new_password2",typeOfInput:e.passType.password2,modelValue:e.user.password2,"onUpdate:modelValue":a[2]||(a[2]=s=>e.user.password2=s),onChange:e.confirmValidation},null,8,["typeOfInput","modelValue","onChange"]),i(w,{modelValue:e.show.password2,"onUpdate:modelValue":a[3]||(a[3]=s=>e.show.password2=s)},null,8,["modelValue"])]),u("div",O,c(e.errors.password2),1)]),u("div",T,[u("div",U,[k,i(n,{title:"Old password",name:"old_password",typeOfInput:e.passType.old_password,modelValue:e.user.old_password,"onUpdate:modelValue":a[4]||(a[4]=s=>e.user.old_password=s)},null,8,["typeOfInput","modelValue"]),i(w,{modelValue:e.show.old_password,"onUpdate:modelValue":a[5]||(a[5]=s=>e.show.old_password=s)},null,8,["modelValue"])]),u("div",x,c(s.$store.state.password.changeError?"This password and your current password doesn't match. Be sure that you typed correct password!":""),1)]),u("div",B,[u("button",{onClick:a[6]||(a[6]=s=>e.change()),class:"green-btn"},"Change")])])])])};export{m as default};
